# 末端相机位置和朝向配置说明

## 坐标系说明

### UR5e tool0 坐标系
根据 UR5e 标准，`tool0` 坐标系为：
- **X 轴**: 指向左侧 (left)
- **Y 轴**: 指向上方 (up)
- **Z 轴**: 指向前方 (front，远离机械臂的方向)

### 夹爪方向
- Robotiq 夹爪安装在 `tool0` 上
- 夹爪手指沿着 `tool0` 的 **Z 轴正方向**延伸
- 手指张开方向沿着 **X 轴**

### RealSense D435 相机坐标系
- **X 轴**: 深度轴（光轴方向，从镜头向外）
- **Y 轴**: 向右
- **Z 轴**: 向下

## 相机安装位置

### 位置
相机应该安装在 `tool0` 的 **Y 轴正方向**（上方），避免与夹爪干涉。

### 朝向
相机需要**向下看**，即光轴指向地面（世界坐标系的 -Z 方向）。

在 `tool0` 坐标系中：
- 地面方向是 **-Y**（因为 tool0 的 Y 轴向上）
- 相机光轴（X 轴）需要指向 **-Y**

### 旋转计算
要将相机 X 轴旋转到指向 -Y 方向：
1. 先绕 Z 轴旋转 90°（π/2）
2. 再绕 Y 轴旋转 -90°（-π/2）

结果：`rpy="0 -1.5708 1.5708"`

## 配置参数

### 位置参数 (xyz)
```xml
<origin xyz="0 0.12 0.05" rpy="0 -1.5708 1.5708"/>
```

解释：
- **x=0**: 沿 X 轴无偏移（居中）
- **y=0.12**: 沿 Y 轴向上偏移 12cm（在夹爪上方）
- **z=0.05**: 沿 Z 轴向前偏移 5cm（稍微在夹爪前方，避免遮挡）

### 旋转参数 (rpy)
```xml
rpy="0 -1.5708 1.5708"
```

解释：
- **roll=0**: 绕 X 轴不旋转
- **pitch=-1.5708**: 绕 Y 轴旋转 -90°
- **yaw=1.5708**: 绕 Z 轴旋转 90°

## 调整方法

### 修改高度
如果要调整相机在夹爪上方的高度，修改 **y 值**：
- `y=0.10`: 10cm 高度
- `y=0.12`: 12cm 高度（推荐）
- `y=0.15`: 15cm 高度（视野更大，但细节较少）

### 修改前后位置
如果要调整相机在夹爪前后的位置，修改 **z 值**：
- `z=0.00`: 正好在夹爪根部
- `z=0.05`: 稍微向前（推荐）
- `z=0.10`: 更向前（可能看到夹爪手指）

### 修改朝向角度
如果要调整相机的俯仰角度，修改 **roll 和 pitch**：
- 保持向下看：`rpy="0 -1.5708 1.5708"`
- 稍微向前倾斜：`rpy="0.2 -1.3708 1.5708"`
- 稍微向后倾斜：`rpy="-0.2 -1.7708 1.5708"`

## 文件位置

配置文件位于：
```
src/ur5e_gripper_moveit_config/urdf/ur5e_gripper.urdf.xacro
```

查找包含 `ee_camera` 的部分，修改 `<origin>` 标签的 `xyz` 和 `rpy` 属性。
